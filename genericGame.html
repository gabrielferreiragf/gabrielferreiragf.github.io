<!DOCTYPE HTML>
<html>
	<head>
		<title>EM BREVE!</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<header id="header">
					<h1><a href="index.html"> EM BREVE!</a></h1>
					<p> AGORA TENTE ACERTAR O ALVO!</p>
					<nav>
						<a href="index.html">Voltar para a página inicial</a>
					</nav>
				</header>
			</div>
	</body>
	<canvas width="600" height="400"></canvas>
<script>

  var tela = document.querySelector("canvas");
  var pincel = tela.getContext("2d");


  pincel.fillStyle = "red";
  pincel.fillRect(0, 0, 600, 400);

  var raio = 10;
  var xAleatorio = 0;
  var yAleatorio = 0;

  function desenhaCirculo(x, y, raio, cor) {

    pincel.fillStyle = cor;
    pincel.beginPath();
    pincel.arc(x, y, raio, 0, 2 * 3.14);
    pincel.fill();


  }
  function limpaTela(){
    pincel.clearRect(0, 0, 600, 400);

  }
  function desenhaAlvo(x, y){

    desenhaCirculo(x, y,raio+20, "red");
    desenhaCirculo(x, y, raio+10, "white");
    desenhaCirculo(x, y,raio, "red");
    desenhaCirculo(x, y,raio-8, "white");



  }
  function sorteiaPosicao(maximo) {

      return Math.floor(Math.random() * maximo);

  }

  function atualizaTela() {
    limpaTela();
    xAleatorio = sorteiaPosicao(600);
    yAleatorio = sorteiaPosicao(400);
    desenhaAlvo(xAleatorio, yAleatorio);

  }
  setInterval(atualizaTela, 900);

  function disparaAlvo(evento) {

    var x = evento.pageX - tela.offsetLeft;
    var y = evento.pageY - tela.offsetTop;

    if((x > xAleatorio - raio)
    && (x < xAleatorio + raio)
    && (y > yAleatorio - raio)
    && (y < yAleatorio + raio))

      alert("Parabéns!");
    }

  tela.onclick = disparaAlvo;

</script>

</html>